<!DOCTYPE html>
<html lang="ru">

<head>
  <meta charset="utf-8" />
  <link rel="icon" href="%PUBLIC_URL%/favicon.ico" />
  <meta name="viewport"
    content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no, viewport-fit=cover" />
  <meta name="theme-color" content="#212121" />
  <meta name="description" content="–ò–Ω—Ç–µ—Ä–Ω–µ—Ç-–º–∞–≥–∞–∑–∏–Ω –≤ Telegram" />

  <!-- üÜï –§–∏–∫—Å –¥–ª—è Telegram Web -->
  <meta http-equiv="Content-Security-Policy" content="default-src * 'unsafe-inline' 'unsafe-eval' data: blob:;">
  <meta name="telegram-webapp" content="true">
  <meta http-equiv="Permissions-Policy" content="interest-cohort=()">

  <title>–ú–∞–≥–∞–∑–∏–Ω</title>

  <!-- Telegram WebApp Script -->
  <script src="https://telegram.org/js/telegram-web-app.js"></script>

  <!-- üÜï –°—Ç–∏–ª–∏ –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ -->
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    html,
    body {
      width: 100%;
      height: 100%;
      overflow-x: hidden;
      background: #212121;
      color: #fff;
    }

    #root {
      width: 100%;
      min-height: 100vh;
      background: #212121;
    }

    /* üÜï Loading Screen */
    #loading-screen {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: #212121;
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 9999;
      transition: opacity 0.3s ease;
    }

    #loading-screen.hidden {
      opacity: 0;
      pointer-events: none;
    }

    .loader {
      text-align: center;
    }

    .loader h2 {
      color: #fff;
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif;
      font-size: 20px;
      margin-bottom: 10px;
    }

    .loader p {
      color: #888;
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif;
      font-size: 14px;
      margin-bottom: 20px;
    }

    .spinner {
      width: 50px;
      height: 50px;
      border: 3px solid #444;
      border-top: 3px solid #667eea;
      border-radius: 50%;
      animation: spin 1s linear infinite;
      margin: 0 auto;
    }

    @keyframes spin {
      0% {
        transform: rotate(0deg);
      }

      100% {
        transform: rotate(360deg);
      }
    }
  </style>
</head>

<body>
  <noscript>
    <div
      style="padding: 20px; text-align: center; background: #212121; color: #fff; height: 100vh; display: flex; align-items: center; justify-content: center;">
      <div>
        <h1>JavaScript –æ—Ç–∫–ª—é—á—ë–Ω</h1>
        <p>–î–ª—è —Ä–∞–±–æ—Ç—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –≤–∫–ª—é—á–∏—Ç—å JavaScript</p>
      </div>
    </div>
  </noscript>

  <!-- üÜï Loading Screen -->
  <div id="loading-screen">
    <div class="loader">
      <h2>–ó–∞–≥—Ä—É–∑–∫–∞ –º–∞–≥–∞–∑–∏–Ω–∞...</h2>
      <p>–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –ø–æ–¥–æ–∂–¥–∏—Ç–µ</p>
      <div class="spinner"></div>
    </div>
  </div>

  <div id="root"></div>

  <!-- üÜï –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è Telegram WebApp -->
  <script>
    console.log('üöÄ –°—Ç—Ä–∞–Ω–∏—Ü–∞ –∑–∞–≥—Ä—É–∂–µ–Ω–∞');

    // –ü—Ä–æ–≤–µ—Ä–∫–∞ Telegram WebApp
    if (window.Telegram && window.Telegram.WebApp) {
      const tg = window.Telegram.WebApp;

      console.log('‚úÖ Telegram WebApp –Ω–∞–π–¥–µ–Ω:', {
        platform: tg.platform,
        version: tg.version,
        colorScheme: tg.colorScheme
      });

      // –†–∞–∑–≤–æ—Ä–∞—á–∏–≤–∞–µ–º –Ω–∞ –≤–µ—Å—å —ç–∫—Ä–∞–Ω
      tg.expand();

      // –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º —Ü–≤–µ—Ç–∞
      tg.setHeaderColor('#212121');
      tg.setBackgroundColor('#212121');

      // –ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å
      tg.ready();

      console.log('‚úÖ Telegram WebApp –≥–æ—Ç–æ–≤');
    } else {
      console.warn('‚ö†Ô∏è Telegram WebApp –Ω–µ –Ω–∞–π–¥–µ–Ω - –≤–æ–∑–º–æ–∂–Ω–æ –æ—Ç–∫—Ä—ã—Ç–æ –Ω–µ –≤ Telegram');
    }

    // –£–±–∏—Ä–∞–µ–º loading screen –∫–æ–≥–¥–∞ React –∑–∞–≥—Ä—É–∑–∏—Ç—Å—è
    window.addEventListener('load', function () {
      console.log('‚úÖ Window loaded');
      setTimeout(function () {
        const loader = document.getElementById('loading-screen');
        if (loader) {
          loader.classList.add('hidden');
          console.log('‚úÖ Loading screen —Å–∫—Ä—ã—Ç');
        }
      }, 500);
    });

    // –£–±–∏—Ä–∞–µ–º loading screen –µ—Å–ª–∏ React –±—ã—Å—Ç—Ä–æ –∑–∞–≥—Ä—É–∑–∏–ª—Å—è
    setTimeout(function () {
      const root = document.getElementById('root');
      if (root && root.children.length > 0) {
        const loader = document.getElementById('loading-screen');
        if (loader) {
          loader.classList.add('hidden');
          console.log('‚úÖ Loading screen —Å–∫—Ä—ã—Ç (–±—ã—Å—Ç—Ä–∞—è –∑–∞–≥—Ä—É–∑–∫–∞)');
        }
      }
    }, 1000);

    // –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
    window.addEventListener('error', function (event) {
      console.error('‚ùå Global Error:', event.error);

      // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –æ—à–∏–±–∫—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é
      if (window.Telegram && window.Telegram.WebApp && window.Telegram.WebApp.showAlert) {
        window.Telegram.WebApp.showAlert('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏: ' + event.message);
      } else {
        alert('–û—à–∏–±–∫–∞: ' + event.message);
      }
    });

    // –õ–æ–≥–∏—Ä—É–µ–º —Ä–∞–∑–º–µ—Ä—ã —ç–∫—Ä–∞–Ω–∞
    console.log('üì± –†–∞–∑–º–µ—Ä—ã:', {
      width: window.innerWidth,
      height: window.innerHeight,
      devicePixelRatio: window.devicePixelRatio
    });
  </script>
</body>

</html>